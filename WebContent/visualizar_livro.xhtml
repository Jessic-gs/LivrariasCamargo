<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui" xmlns:b="http://bootsfaces.net/ui">

<h:head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="StyleSheet" type="text/css"
		href="resources/css/estilo_visualiza_livro.css" media="screen"></link>
	<title>Livro</title>
</h:head>
<h:body>

	<ui:include src="WEB-INF/navegacaoSite.xhtml" />
	<ui:include src="WEB-INF/barra_pesquisa.xhtml" />
	<b:container>
		<h:form>
			<p:panelGrid layout="grid"
				style="text-align:center; margin-top:20px;" panelStyle="width:250px"
				fieldSize="sm" columns="2">
				<p:row>
					<p:column style="text-align: left;" width="10px">
						<p:galleria value="${livroMB.livroAtual.ilustracao}" var="image"
							panelWidth="370" panelHeight="450" showCaption="false"
							style="border:1px solid">
							<p:graphicImage value="./image/#{image}" height="100%"
								width="100%" />
						</p:galleria>

					</p:column>
				</p:row>
				<p:row>
					<p:column>
						<p:row>
							<h1 style="text-align: left; margin-top: -5px;">
								<h:outputLabel value="#{livroMB.livroAtual.nome}" />
							</h1>
							<h3 style="text-align: left;">
								<h:outputLabel value="Autores: ${livroMB.livroAtual.autores}" />
							</h3>
							<h4 style="text-align: left;">
								<h:outputLabel value="Editora: #{livroMB.livroAtual.editora}" />
							</h4>
							<h4 style="text-align: left;">
								<h:outputLabel value="R$ #{livroMB.livroAtual.preco}" />
							</h4>
							<br></br>
							<br></br>

							<b:commandButton value=" Comprar"
								style="font-family: comic sans MS, FontAwesome; 
											  		 		width: 70%;
											  		 		height: 60px;
											  		 		border-radius: 0;
											  		 		border: 1px solid black;"
								styleClass="fa fa-cart-plus" iconAlign="left"
								action="${carrinhoMB.confirmaLivro( livroMB.livroAtual )}"
								size="lg" />
						</p:row>
					</p:column>
				</p:row>
			</p:panelGrid>

			<h1 style="margin-top: 20px">Informações</h1>
			<p:tabView>
				<p:tab title="Livro">
					<h:panelGrid columns="2" cellpadding="10">
						<h:outputLabel value="Formato do Livro :" />
						<h:outputLabel value="Capa dura"
							rendered="#{livroMB.livroAtual.tipo == 1}" />
						<h:outputLabel value="Brochura"
							rendered="#{livroMB.livroAtual.tipo == 2}" />
						<h:outputLabel value="Número de Páginas :" />
						<h:outputLabel value="#{livroMB.livroAtual.quatidadePaginas}" />
						<h:outputLabel value="ISBN :" />
						<h:outputLabel value="#{livroMB.livroAtual.id}" />
						<h:outputLabel value="Data da Publicação :" />
						<h:outputText style="    font-weight: bold;"
							value="#{livroMB.livroAtual.dataPublicacao}">
							<f:convertDateTime pattern="dd/MM/yyyy" />
						</h:outputText>
						<h:outputLabel value="Sinopse :" />

						<h:outputLabel value="#{livroMB.livroAtual.sinopse}" />
						<h:outputLabel value="Sumário :" />

						<h:outputLabel value="#{livroMB.livroAtual.sumario}" />

					</h:panelGrid>
				</p:tab>
				<p:tab title="Autores">

					<p:dataTable value="${livroMB.livroAtual.autores}" var="autor"
						rendered="#{livroMB.livroAtual.autores.size() > 0}"
						style="font-size: 15px;">
						<p:column>
							<h:panelGrid columns="2" cellpadding="10">
								<h:outputLabel value="Nome: " />
								<h:outputLabel value="${autor.nome}" />
								<h:outputLabel value="Data de Nasc.: " />
								<h:outputLabel value="${autor.dataNascimento}" />
								<h:outputLabel value="Local de Nasc: " />
								<h:outputLabel value="${autor.localNascimento}" />
								<h:outputLabel value="Data de Falecimento: "
									rendered="#{autor.falecido == 1}" />
								<h:outputLabel value="${autor.dataFalecimento}" />
								<h:outputLabel value="Local de Falecimento: "
									rendered="#{autor.falecido == 1}" />
								<h:outputLabel value="${autor.localFalecimento}" />
								<h:outputLabel value="Biografia: " />
								<h:outputLabel value="${autor.biografia}" />
							</h:panelGrid>
						</p:column>
					</p:dataTable>

				</p:tab>
			</p:tabView>
			<div class="rodape" style="height: 200px;"></div>
		</h:form>
	</b:container>
</h:body>
</html>